---
title: トランザクション ログとチェックポイント ファイルを使用して、バックアップと復元を行Exchange
manager: sethgros
ms.date: 09/17/2015
ms.audience: Developer
ms.topic: overview
ms.prod: office-online-server
ms.localizationpriority: medium
ms.assetid: 80e04b9f-87c7-4acf-89b1-aa66ffaf7e53
description: トランザクション ログとチェックポイント ファイルに関する情報と、2013 年のデータのバックアップと復元に使用Exchangeします。
ms.openlocfilehash: ae47c7757a1001f28c467ea58ec87b4ddbc5a5c4
ms.sourcegitcommit: 54f6cd5a704b36b76d110ee53a6d6c1c3e15f5a9
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/24/2021
ms.locfileid: "59513263"
---
# <a name="transaction-logs-and-checkpoint-files-for-backup-and-restore-in-exchange"></a>トランザクション ログとチェックポイント ファイルを使用して、バックアップと復元を行Exchange

トランザクション ログとチェックポイント ファイルに関する情報と、2013 年のデータのバックアップと復元に使用Exchangeします。
  
**製品:** Exchange Server 2013 
  
この記事では、2013 Exchange Serverログとチェックポイント ファイルを使用してデータ損失を防ぐ方法について説明します。 この情報は、Windows Server 2008 以降の Windows Server の各バージョンでボリューム シャドウ コピー サービス (VSS) を使用するバックアップおよび復元アプリケーションを開発するときに重要になります。
  
## <a name="transaction-logs-in-exchange-2013"></a>Exchange 2013 のトランザクション ログ

Exchange 2013 では、データベースごとに 1 セットのトランザクション ログ ファイルが保持されます。 トランザクションは、データベースの状態または内容を変更する操作として定義されます。 個々のデータベースのトランザクション ログ ファイルは、データベースで実行されたトランザクションを記録します。 トランザクションのレコードは、データベース自体に作成される前にトランザクション ログに書き込まれます。 Exchange 2013 データベース トランザクション ログは、トランザクションがデータベース ファイルにコミットされる前にディスクに格納されます。 
  
データベースが更新される前のトランザクションの記録は、書き込み先行ログと呼ばれる。 データベースが正しい状態に戻されるように、Exchange 2013 はページ ベースの書き込みとチェックポイントを使用してデータベース ファイルにデータを書き込みます。 通常の操作では、Exchangeは最初にデータベースの変更をトランザクション ログに保存し、その後、それらの変更をデータベースのメモリ内コピーに対して行います。 トランザクション ログには、各トランザクションの開始と終了が記録されます。 これにより、データベース内の操作を後で元に戻したりロールバックしたりするために十分な情報が提供されます。
  
ディスク上のデータベース ファイルが破損していても、トランザクション ログ ファイルが無事なときのエラーから回復する場合、復元アプリケーションでは、最初に正常だとわかっているデータベース ファイルのコピーを復元する必要があります。
  
Exchange ストアは、以前にバックアップしたトランザクション ログからトランザクションを再生してから、残りのトランザクションをディスク上のトランザクション ログ ファイルから再生します。トランザクションがトランザクション ログに記録される時点と、そのトランザクションが実際にデータベース ファイルに書き込まれる時点の間でシステムに障害が発生すると、トランザクションが失われる可能性がある点にご注意ください。  
  
Exchange ストアは、定期的にメモリ内のデータベース イメージを調べて、どのページに変更があったかを判断します。Exchange ストアは、保留中の変更を結合してから、該当するページをディスク上のデータベース ファイルに書き込みます。
  
## <a name="checkpoint-files-in-exchange-2013"></a>Exchange 2013 のチェックポイント ファイル

チェックポイント ファイルには、ログに記録されたトランザクションのどれがディスク上のデータベース ファイルに書き込まれたかを記録します。チェックポイント ファイルは、トランザクション ログのエントリで更新されたすべてのデータベース ページが正常にディスクに書き込まれた時点で先に進められます。チェックポイント ファイルは、既にディスク上のデータベース イメージに含まれるトランザクションを記録しているため、Exchange ストアは、チェックポイントの後に発生したトランザクションを再生するだけで十分です。バックアップ周期の長さによっては、システム障害時にデータベースに再生する必要のあるトランザクションの数を大幅に削減できます。
  
## <a name="see-also"></a>関連項目

- [Exchange 2013 のバックアップと復元の概念](backup-and-restore-concepts-for-exchange-2013.md)
- [Exchange 2013 のバックアップ操作の種類](types-of-backup-operations-for-exchange-2013.md)
- [Exchange 2013 のデータベースを復元する](restoring-exchange-2013-databases.md)
    

